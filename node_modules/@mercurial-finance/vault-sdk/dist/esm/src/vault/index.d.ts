import { BN } from '@coral-xyz/anchor';
import { PublicKey, TransactionInstruction, Connection, Transaction, Cluster } from '@solana/web3.js';
import { Mint } from '@solana/spl-token';
import { AffiliateInfo, VaultImplementation, VaultState } from './types';
import { StrategyState } from './strategy';
export default class VaultImpl implements VaultImplementation {
    private connection;
    private cluster;
    private program;
    private affiliateId;
    private affiliateProgram;
    private allowOwnerOffCurve?;
    seedBaseKey?: PublicKey;
    tokenMint: Mint;
    tokenLpMint: Mint;
    vaultPda: PublicKey;
    tokenVaultPda: PublicKey;
    vaultState: VaultState;
    private constructor();
    static createPermissionlessVaultInstruction(connection: Connection, payer: PublicKey, tokenMint: PublicKey, opt?: {
        cluster?: Cluster;
        programId?: string;
    }): Promise<TransactionInstruction>;
    static fetchMultipleUserBalance(connection: Connection, lpMintList: Array<PublicKey>, owner: PublicKey): Promise<Array<BN>>;
    static createMultiple(connection: Connection, tokenMints: Array<PublicKey>, opt?: {
        seedBaseKey?: PublicKey;
        allowOwnerOffCurve?: boolean;
        cluster?: Cluster;
        programId?: string;
        affiliateId?: PublicKey;
        affiliateProgramId?: string;
    }): Promise<Array<VaultImpl>>;
    static createMultipleWithPda(connection: Connection, vaultsPda: Array<PublicKey>, opt?: {
        seedBaseKey?: PublicKey;
        allowOwnerOffCurve?: boolean;
        cluster?: Cluster;
        programId?: string;
        affiliateId?: PublicKey;
        affiliateProgramId?: string;
    }): Promise<Array<VaultImpl>>;
    static create(connection: Connection, tokenAddress: PublicKey, opt?: {
        seedBaseKey?: PublicKey;
        allowOwnerOffCurve?: boolean;
        cluster?: Cluster;
        programId?: string;
        affiliateId?: PublicKey;
        affiliateProgramId?: string;
    }): Promise<VaultImpl>;
    getUserBalance(owner: PublicKey): Promise<BN>;
    /** To refetch the latest lpSupply */
    /** Use vaultImpl.lpSupply to use cached result */
    getVaultSupply(): Promise<BN>;
    getWithdrawableAmount(): Promise<BN>;
    refreshVaultState(): Promise<void>;
    private createATAPreInstructions;
    private createAffiliateATAPreInstructions;
    deposit(owner: PublicKey, baseTokenAmount: BN): Promise<Transaction>;
    getStrategiesState(): Promise<Array<StrategyState>>;
    private getStrategyWithHighestLiquidity;
    withdraw(owner: PublicKey, baseTokenAmount: BN): Promise<Transaction>;
    private withdrawFromVaultReserve;
    getAffiliateInfo(): Promise<AffiliateInfo>;
}
//# sourceMappingURL=index.d.ts.map